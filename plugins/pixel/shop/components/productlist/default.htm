{% if showSlide %}
    {% if showSlide.bannerimgs.count %}
        <section class="ss-banner">
            <div class="swiper-banner" style="height: calc(100vh - 200px);">
                {% partial '@slide' banners=showSlide%}
                <!-- <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div> -->
            </div>
        </section>
    {% endif %}
{% endif %}

<div class="container-master">
    {% if product %}
    <div class="row-master">
        <div class="col-sm-6">
            <span class="xzoom-container">
                <img class="xzoom" src="{{ product.image.getThumb(450, 'auto') }}" xoriginal="{{ product.image.getPath() }}" width="450" />
            
                {% if product.gallery.count > 0 %}
                <div class="xzoom-thumbs">
                    {% for image in product.gallery %}
                    <a href="{{ image.getPath() }}">
                        <img class="xzoom-gallery" width="80" src="{{ image.getThumb(450, 'auto') }}">
                    </a>
                    {% endfor %}
                </div>
                {% endif %}
            </span>
        </div>
        <div class="col-sm-6">
            <div class="product-info-to-cart">
                <form data-request="onAddToCart" data-request-flash data-request-success="CartButton.onSuccess(data)" id="form-add-to-cart">
                    <h1 id="product-title">
                        {{ product.name }}
                    </h1>
                    <h4 id="product-option-title"></h4>
                    <div class="text-uppercase row-border">
                        {% if product.is_on_sale %}
                            <span class="label label-success instock-status">{{ 'pixel.shop::lang.frontend.onsale'|trans }}</span>
                        {% endif %}
                
                        {% if product.quantity > 0 %}
                            <span class="label label-success instock-status">{{ 'pixel.shop::lang.frontend.instock'|trans }}</span>
                        {% endif %}
                
                        {% if not product.isInfiniteQuantity() and product.quantity <= 0 %}
                            <span class="label label-danger soldout-status">{{ 'pixel.shop::lang.frontend.soldout'|trans }}</span>
                        {% endif %}
            
                    </div>
            
                    {% if product.categories|length > 0 %}
                    {% endif %}
            
                    {% if product.type == 'product' %}
                        <div class="publish-date">
                            <span class="published-date">
                                Published Date: {{ product.created_at|date('Y/m/d') }}
                            </span>
                            <span class="author-product">
                                Author: {{product.author}}
                            </span>
                        </div>
                    {% endif %}
            
                    <div class="show-description">
                        {{ product.short_description|raw }}
                    </div>
            
                    <hr>
            
                    <div class="form-group">
                        <div class="wrap-product-detail">
                                <h3 id="product-price" class="shop__product-price" style="display:none;"></h3>
                            <div class="price-product" style="float: left;">
                                <span class="shop__product-price-amount price-product-amount" data-currency="{{ product.getDefaultCurrencySymbol() }}">
                                    {{ product.getPrice()|currency }}
                                </span>
                                <input type="hidden" name="base_price" value="{{ product.getPrice(false) }}">
                                <input type="hidden" name="old_price" value="{{ product.getOldPrice(false) }}">
            
                                <input type="hidden" name="base_price_with_tax" value="{{ product.getPrice() }}">
                                <input type="hidden" name="old_price_with_tax" value="{{ product.getOldPrice() }}">
                            </div>
                            <input name="quantity" type="hidden" value="1" min="1">
                            <input name="type_buy" type="hidden" id="type_buy" value="nomal-cart">
                            <input name="price_download" id="price_download" type="hidden">
                            <input name="email_download" id="email_download" type="hidden">
                            <input name="quantity" type="hidden" value="1" min="1">
                            <input type="hidden" name="id" value="{{ product.id }}">
                            <input type="hidden" name="price" value="{{ product.price }}">
                            <input type="hidden" name="options" value="">
                            <input type="hidden" name="options_index" value="">
                            <!-- <div class="btn-more blu">
                                <a href="" title="">{{ 'pixel.shop::lang.frontend.addtocart'|trans }}</a>
                            </div> -->
                            {% if product.quantity > 0 or product.isInfiniteQuantity() %}
                                <button type="submit" class="btn-block btn-footer add-to-cart-btn" data-attach-loading>
                                    {{ 'pixel.shop::lang.frontend.addtocart'|trans }}
                                </button>
            
                                {% if product.attachments|length > 0 %}
                                    <button type="button" class="btn-block btn-footer download-book-btn" data-toggle="modal" data-target="#exampleModalCenter">
                                        Download Digtal
                                    </button>
                                {% endif  %}
                            {% else %}
                                <button type="submit" disabled class="btn-block btn-footer add-to-cart-btn">
                                    {{ 'pixel.shop::lang.frontend.addtocart'|trans }}
                                </button>
            
                                {% if product.attachments|length > 0 %}
                                    <button type="button" class="btn-block btn-footer download-book-btn" data-toggle="modal" data-target="#exampleModalCenter">
                                        Download Digtal
                                    </button>
                                {% endif  %}
                            {% endif  %}
                        </div>
                        <hr>
                    </div>
                </form>
            
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
	{% endif %}
</div>
</section>

<section class="ss-shop-list" id="ss-shop-category">
    <div class="container-master">
        <h2 class="ss-list-title style-2 style-related-product">Related Book</h2>
        <div class="ss-list-body">
            {% for product in products %}
                {% partial '@category' product=product %}
            {% endfor %}
        </div>
    </div>
</section>